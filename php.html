<!DOCTYPE html>

<html lang="ko">

    <head>

        <title>PHP</title>

        <meta charset="UTF-8">
        <meta name="author" content="H-Genie">
        <meta name="description" content=" ">
        <meta name="keywords" content=" ">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

       <link rel="stylesheet" type="text/css" href="css/style.css">
       <link rel="icon" href="img/php.png" sizes="16x16">
      
    </head>



    <body>

        <!--PHP Intro-->
        <div class="chapter_box"style="margin-top: 0;">

            <p class="subject">PHP Intro</p> <br>
                
            <p>
                동적 페이지 컨텐츠를 생성할 수 있음 <br><br>
                서버에서 파일을 생성, 열기, 읽기, 쓰기 및 삭제 할 수 있음 <br><br>
                양식 데이터를 수집할 수 있음 <br><br>
                쿠키를 보내고 받을 수 있음 <br><br>
                데이터베이스에서 데이터를 추가, 삭제, 수정할 수 있음 <br><br>
                사용자 엑세스를 제어하는 데 사용할 수 있음 <br><br>
                데이터를 암호화 할 수 있음 <br><br>
                HTML 출력에만 국한되지 않음 <br><br>
                이미지, PDF, 파일 및 Flash 동영상을 출력 할 수 있음 <br><br>
                XHTML 및 XML과 같은 텍스트를 출력 할 수 있음 <br><br>

                &bull; localhost:8080 = 127.0.0.1:8080
            </p> <br>

        </div>


        <!--PHP Syntax-->
        <div class="chapter_box">

            <p class="subject">PHP Syntax</p> <br>
                
            <p>
                Basic Syntax : &lt;?PHP ?> <br><br>
                Case Sensitivity : 키워드(예약어), 클래스, 함수, 사용자 함수는 대소문자를 구별하지 않음 <br>
                (※ 단, 변수는 대소문자를 구분함) <br><br>
            </p>

        </div>


        <!--PHP Variable-->
        <div class="chapter_box" id="ch3">

            <p class="subject">PHP Variable</p> <br>
                
            <p>
               선언 : $변수명 <br><br>

               Loosely Typed Language : <br>
               - 값에 따라 데이터 유형을 변수에 자동으로 선언해 줌. <br>
               - 데이터 유형이 엄격하게 설정되어 있지 않음 (ex 문자열을 정수에 추가하는 등) <br>
               ※ 버전 7부터 데이터 타입 선언이 가능해졌고, strict 모드가 지원되어 유형 불일치 시 "Fatal Error"가 발생 <br><br>

               Scope : 스크립트의 어느 곳에서나 선언할 수 있음 <br>
               - local : 함수 외부에서 선언된 변수로, 함수 외부에서만 접근 할 수 있음 <br>
               - global : 함수 안에서 선언된 변수로, 해당 함수 내에서만 접근 할 수 있음 <br>
               - static <br><br>

               Global Keyword : 함수 내에서 전역변수를 접근할 때 사용 <br><br>

<pre>
&lt;?php
    $x = 5;
    $y = 10;

    function myTest() {
        global $x, $y;
        $y = $x + $y;
    }

    myTest();
    echo $y; // outputs 15
?>
</pre> <br><br>

                Static Keyword : 함수가 완료/실행되면 변수는 삭제되는 것이 일반적이나, static 키워드를 사용하면 로컬변수를 삭제하지 않음 <br>
                (다음 함수가 호출될떄마다 해당 변수는 함수가 마지막으로 호출된 시점부터 포함된 정보를 가짐) <br><br>
            
<pre>
&lt;?php
    function myTest() {
        static $x = 0;
        echo $x;
        $x++;
    }
    
    myTest(); //0
    myTest(); //1
    myTest(); //2
?>
</pre>

            </p> <br>

        </div>


        <!--PHP Data Types-->
        <div class="chapter_box" id="ch4">

            <p class="subject">PHP Data Types</p> <br>

            <div class="content_box">
                <p>
                <&lt;PHP의 데이터 타입> <br><br>

                  &bull;String <br>
                  &bull;Integer : 정수 <br>
                  &bull;Float : 부동 소수점 / 지수(거듭제곱) <br>
                  &bull;Boolean <br>
                  &bull;Array <br>
                  &bull;Object <br>
                  &bull;NULL <br>
                  &bull;Resource
                </p>
            </div> <br>
                
            <p>
               데이터 타입 확인 : var_dump($변수명) <br><br>

               NULL : 값이 지정되지 않은 변수 / 값 없이 변수를 만들면 자동으로 NULL 할당 <br><br>

               Resource : 실제 데이터 유형이 아닌, 외부의 함수와 리소스에 대한 참조를 저장 <br>
               (주로 데이터베이스 호출 시 사용)
            </p> <br><br>

        </div>


         <!--PHP Operator-->
         <div class="chapter_box" id="ch5">

            <p class="subject">PHP Operator</p> <br>

            <a href="javascript.html#ch3" target="_blank">자바스크립트 연산자 참조</a> <br><br>
                
            <p>
                비교 연산자
                <table>
                    <tr><td>&lt;></td><td>Not equal</td><td></td></tr>
                    <tr><td>&lt;=></td><td>Spaceship</td><td>두 값을 비교하여 : 앞의 것이 작으면 -1, 같으면 0, 크면 1을 반환 (PHP7에서 도입)</td></tr>
                </table> <br><br>

                논리 연산자
                <table>
                    <tr><td>and</td><td></td></tr>
                    <tr><td>or</td><td></td></tr>
                    <tr><td>nor</td><td>비교 대상 중 한개라도 true면, true를 반환</td></tr>
                </table> <br><br>

                문자열 연산자
                <table>
                    <tr><td>.</td><td>연결</td><td></td></tr>
                    <tr>
                        <td>.=</td>
                        <td>연결 할당</td>
                        <td>
                            $x = "Hello"; <br>
                            $y = " world!"; <br>
                            $x .= $y; <br>
                            echo $x; // "Hello World!"
                        </td>
                    </tr>
                </table> <br><br>

                조건부 할당 연산자
                <table>                    
                    <tr>
                        <td>?:</td>
                        <td>삼항 연산자</td>
                        <td>$x = expr1? expr2 : expr3</td>
                        <td>
                            $x에 값을 반환하여, expr1이 : true면 expr2 / false면 expr3
                        </td>
                    </tr>

                    <tr>
                        <td>??</td>
                        <td>Null coalescing</td>
                        <td>$x = expr1?? expr2 : expr3</td>
                        <td>
                            $x에 값을 반환하여, <br>
                            expr1이 존재하면 $x의 값은 expr1 <br>
                            expr1이 없거나 NULL이면 $x의 값은 expr2 <br>
                        </td>
                    </tr>
                </table> <br><br>
            </p>

        </div>


        <!--PHP Loop-->
        <div class="chapter_box" id="ch6">

            <p class="subject">PHP Loop</p> <br>

            <div class="content_box">
                <p>
                    &lt;Foreach> <br><br>
                    
                    배열의 각 요소에 대한 코드블럭 반복 <br>
                    배열에서만 작동하며, 배열의 각 키/값의 쌍을 반복 <br><br>
<pre>
&lt;?php
    $colors = array("red", "green", "blue", "yellow");

    foreach ($colors as $value) {
        echo "$value &lt;br>";
    }
?>
</pre> <br><br>

                    배열의 키와 값을 모두 출력하기 <br><br>
<pre>
&lt;?php
    $age = array("Peter"=>"35", "Ben"=>"37", "Joe"=>"43");

    foreach($age as $x => $val) {
        echo "$x = $val&lt;br>";
    }
?>
</pre> <br><br>
                </p>
            </div> <br>
                

            <div class="content_box">
                <p>
                    &lt;Continue> <br><br>
                    
                    지정된 조건이 발생하면 루프에서 한 번의 반복을 중단하고 다음 반복을 계속함 <br><br>
<pre>
&lt;?php
    for ($x = 0; $x &lt; 10; $x++) {
        if ($x == 4) {
            continue;
        }
        echo "The number is: $x &lt;br>";
    }
?>
</pre>
                </p>
            </div>

        </div>


        <!--PHP Function-->
        <div class="chapter_box" id="ch7">

            <p class="subject">PHP Function</p> <br>

            <a href="https://www.w3schools.com/php/php_ref_overview.asp" target="_blank">PHP 내장함수</a> <br><br>
                
            <p>
                &bull;Loosely Typed Language : <br><br>
                
                strict 모드를 사용하지 않고 숫자와 문자를 인수로 사용한 경우 <br><br>
<pre>
&lt;?php
    function addNumbers(int $a, int $b) {
        return $a + $b;
    }
    echo addNumbers(5, "5 days");
    // since strict is NOT enabled "5 days" is changed to int(5), and it will return 10
?> 
</pre> <br><br>

                strict mode : (strict_types = 1); <br>
                ※ 반드시 PHP 파일의 첫번째 줄에 있어야 함 <br><br>

<pre>
&lt;?php declare(strict_types=1);
    function addNumbers(int $a, int $b) {
        return $a + $b;
    }
    echo addNumbers(5, "5 days"); 
    // since strict is enabled and "5 days" is not an integer, an error will be thrown
    // PHP Fatal error: Uncaught TypeError: Argument 2 passed to addNumbers() must be of the type integer, string given, called in
?>
</pre> <br><br>

                return문에 대한 형식 선언이 가능 (strict 모드도 가능) <br>
                - 함수를 선언할 때 콜론(:)과 여는 중괄호{} 앞에 유형을 추가 <br><br>

<pre>
&lt;?php declare(strict_types=1);
    function addNumbers(float $a, float $b) : float {
        return $a + $b;
    }
    echo addNumbers(1.2, 5.2);
?>
</pre> <br><br>                

            </p>

        </div>


        <!--PHP Array-->
        <div class="chapter_box" id="ch8">

            <p class="subject">PHP Array</p> <br>
                
            <p>
                &bull;인덱스 배열(Indexed arrays) : 숫자 인덱스가 있는 배열 <br>
                &bull;연관 배열(Associative arrays) : 명명된 키가 있는 배열 <br>
                &bull;다차원 배열(Multidimensional arrays) : 하나 이상의 배열을 포함하는 배열 <br><br>

                <a href="https://www.w3schools.com/php/php_ref_array.asp" target="_blank">배열함수</a>                        
            </p> <br><br>

            <div class="content_box">
                <p>
                    &lt;Associative Arrays> <br><br>

<pre>
&lt;?php
    $age = array("Peter"=>"35", "Ben"=>"37", "Joe"=>"43");

    foreach($age as $x => $x_value) {
        echo "Key=" . $x . ", Value=" . $x_value;
        echo "%lt;br>";
    }
?>   
</pre> <br>

                </p>
            </div>

            <div class="content_box">
                <p>
                    &lt;Multidimensional Arrays> <br>
                    : 둘 이상의 키로 값을 저장하려고 할 때 <br><br>

                    배열의 차원은 요소를 선택하는데 필요한 인덱스 수를 나타냄 <br>
                    : 2차원 배열을 선택하려면 2개의 인덱스 필요 / 3차원 배열을 선택하려면 3개의 인덱스 필요 <br><br>

<pre>
&lt;?php
    $cars = array (
        array("Volvo",22,18),
        array("BMW",15,13),
        array("Saab",5,2),
        array("Land Rover",17,15)
    );

    echo $cars[0][0].": In stock: ".$cars[0][1].", sold: ".$cars[0][2].".&lt;br>";
    echo $cars[1][0].": In stock: ".$cars[1][1].", sold: ".$cars[1][2].".&lt;br>";
    echo $cars[2][0].": In stock: ".$cars[2][1].", sold: ".$cars[2][2].".&lt;br>";
    echo $cars[3][0].": In stock: ".$cars[3][1].", sold: ".$cars[3][2].".&lt;br>";
?>   
</pre> <br><br>

                   반복문을 통해 다차원배열 접근 <br><br>
<pre>
&lt;?php
    for ($row = 0; $row &lt; 4; $row++) {
        echo "&lt;p>&lt;b>Row number $row&lt;/b>&lt;/p>";
        echo "&lt;ul>";
        for ($col = 0; $col &lt; 3; $col++) {
        echo "&lt;li>".$cars[$row][$col]."&lt;/li>";
        }
        echo "&lt;/ul>";
    }
?>   
</pre>
                </p>
            </div>

            <div class="content_box">
                <p>
                    &lt;배열의 정렬> <br><br>
                    
                    &bull;sort() : 오름차순으로 배열 정렬 <br>
                    &bull;rsort() : 내림차순으로 배열 정렬 <br><br>
                    
                    &bull;asort() : 값에 따라 연관배열을 오름차순으로 정렬 <br>
                    &bull;ksort() : 키에 따라 연관배열을 오름차순으로 정렬 <br>
                    &bull;arsort() : 값에 따라 연관배열을 내림차순으로 정렬 <br>
                    &bull;krsort() : 키에 따라 연관배열을 내림차순으로 정렬
                </p>
            </div>

        </div>



        <!--PHP Superglobals-->
        <div class="chapter_box" id="ch9">

            <p class="subject">PHP Superglobals</p> <br>
                
            <p>
                &bull;$GLOBALS <br>
                &bull;$_SERVER <br>
                &bull;$_REQUEST <br>
                &bull;$_POST <br>
                &bull;$_GET
            </p> <br>

            <div class="content_box">
                <p>
                    &lt;$GLOBALS> <br><br>
                    
                    PHP 스크립트의 어느 곳에서나 전역변수에 접근하는데 사용 <br>
                    전역 스코프의 모든 변수를 참조할 수 있는 배열 <br>
                    $GLOBAL[index] 배열에 저장 : 색인은 변수의 이름을 보유 <br><br>

                    cf) global : 스코프 내에서 전역변수를 사용할 수 있게 하는 키워드 <br><br>

<pre>
&lt;?php 
    $x = 75;
    $y = 25; 

    function addition() {
        $GLOBALS['z'] = $GLOBALS['x'] + $GLOBALS['y'];
    }

    addition();
    echo $z; //100
?>
</pre>                    
                </p>
            </div>

            <div class="content_box">
                <p>
                    &lt;$_SERVER> <br><br>
                    
                    header, 경로, 스크립트 위치에 대한 정보를 보유 <br><br>

                    <a href="https://www.w3schools.com/php/php_superglobals_server.asp" target="_blank">$_SERVER 주요 Element</a>
                </p>
            </div>

            <div class="content_box">
                <p>
                    &lt;$_REQEUST> <br><br>
                    
                    HTML 양식을 제출한 후 데이터를 수집하는 데 사용 <br><br>

<pre>
&lt;form method="post" action="&lt;?php echo $_SERVER['PHP_SELF'];?>">
    Name: &lt;input type="text" name="fname">
    &lt;input type="submit">
&lt;/form>
    
&lt;?php
    if ($_SERVER["REQUEST_METHOD"] == "POST") {    
        $name = $_POST['fname'];
        if (empty($name)) {
            echo "Name is empty";
        } else {
            echo $name;
        }
    }
?>
</pre>
                </p>
            </div>

        </div>



        <!--PHP File Handling-->
        <div class="chapter_box" id="ch10">

            <p class="subject">PHP File Handling</p> <br>
                
            <div class="content_box">
                <p>
                    &lt;readfile()> <br><br>
                    파일을 읽고 출력버퍼에 씀 <br><br>
<pre>
&lt;?php
    echo readfile("webdictionary.txt");
?>
</pre>                    
                </p>
            </div>

            <div class="content_box">
                <p>
                    &lt;fopen()> <br><br>
                    첫번째 매개변수 : 열 파일의 이름 <br>
                    두번째 매개변수 : 파일을 열 모드 <br>
                    ※ 파일을 작성할때도 사용 <br><br>
<pre>
&lt;?php
    $myfile = fopen("webdictionary.txt", "r") or die("Unable to open file!");
    echo fread($myfile,filesize("webdictionary.txt"));
    fclose($myfile);
?>
</pre> <br>
                    <table>
                        <tr><td>Modes</td><td>Description</td></tr>
                        <tr><td>r</td><td>Open a file for read only</td></tr>
                        <tr><td>w</td><td>Open a file for write only / 새 파일을 만들거나, 파일의 기존 데이터를 지움</td></tr>
                        <tr><td>a</td><td>Open a file for write only / 파일의 기존 데이터가 유지</td></tr>
                        <tr><td>x</td><td>Creates a new file for write only / 이미 파일이 존재하면 false 반환</td></tr>
                        <tr><td>r+</td><td>Open a file for read/write</td></tr>
                        <tr><td>w+</td><td>Open a file for read/write / 새 파일을 만들거나, 파일의 기존 데이터를 지움</td></tr>
                        <tr><td>a+</td><td>Open a file for read/write / 파일의 기존 데이터가 유지</td></tr>
                        <tr><td>x+</td><td>Creates a new file for read/write / 이미 파일이 존재하면 false 반환</td></tr>
                    </table>               
                </p>
            </div>

            <div class="content_box">
                <p>
                    &lt;fread()> <br><br>
                    첫번째 매개변수 : 읽을 파일 이름 <br>
                    두번째 매개변수 : 읽을 최대 파이트수 <br><br>
<pre>
&lt;?php
    fread($myfile,filesize("webdictionary.txt"));
?>
</pre>                    
                </p>
            </div>

            <div class="content_box">
                <p>
                    &lt;fclose()> <br><br>
                    닫으려는 파일 이름 혹은 변수(파일 이름을 보유한)가 필요 <br><br>
<pre>
&lt;?php
    $myfile = fopen("webdictionary.txt", "r");    
    fclose($myfile);
?>
</pre>                    
                </p>
            </div>

            <div class="content_box">
                <p>
                    &lt;fwrite()> <br><br>
                    첫번째 매개변수 : 쓸 파일 이름 <br>
                    두번째 매개변수 : 쓸 문자열 <br><br>
<pre>
&lt;?php
    $myfile = fopen("newfile.txt", "w") or die("Unable to open file!");
    $txt = "John Doe\n";
    fwrite($myfile, $txt);    
    fclose($myfile);
?>
</pre>                    
                </p>
            </div>

        </div>

        
    <!--body 끝--> </body>


</html>